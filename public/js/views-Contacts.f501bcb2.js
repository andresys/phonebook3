(self["webpackChunkphonebook3_client"]=self["webpackChunkphonebook3_client"]||[]).push([[238],{1945:function(t,e,n){"use strict";n(1703);var a=n(3545),l={"text/plain":"Text","text/html":"Url",default:"Text"},i="Copy to clipboard: #{key}, Enter";function s(t){var e=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function o(t,e){var n,o,c,r,m,p,d=!1;e||(e={}),n=e.debug||!1;try{c=a(),r=document.createRange(),m=document.getSelection(),p=document.createElement("span"),p.textContent=t,p.style.all="unset",p.style.position="fixed",p.style.top=0,p.style.clip="rect(0, 0, 0, 0)",p.style.whiteSpace="pre",p.style.webkitUserSelect="text",p.style.MozUserSelect="text",p.style.msUserSelect="text",p.style.userSelect="text",p.addEventListener("copy",(function(a){if(a.stopPropagation(),e.format)if(a.preventDefault(),"undefined"===typeof a.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var i=l[e.format]||l["default"];window.clipboardData.setData(i,t)}else a.clipboardData.clearData(),a.clipboardData.setData(e.format,t);e.onCopy&&(a.preventDefault(),e.onCopy(a.clipboardData))})),document.body.appendChild(p),r.selectNodeContents(p),m.addRange(r);var u=document.execCommand("copy");if(!u)throw new Error("copy command was unsuccessful");d=!0}catch(f){n&&console.error("unable to copy using execCommand: ",f),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),d=!0}catch(f){n&&console.error("unable to copy using clipboardData: ",f),n&&console.error("falling back to prompt"),o=s("message"in e?e.message:i),window.prompt(o,t)}}finally{m&&("function"==typeof m.removeRange?m.removeRange(r):m.removeAllRanges()),p&&document.body.removeChild(p),c()}return d}t.exports=o},3545:function(t){t.exports=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,n=[],a=0;a<t.rangeCount;a++)n.push(t.getRangeAt(a));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){"Caret"===t.type&&t.removeAllRanges(),t.rangeCount||n.forEach((function(e){t.addRange(e)})),e&&e.focus()}}},5539:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return ke}});var a=n(3396);const l={key:0},i={ref:"observer",class:"observer"},s={key:1,class:"text-center",style:{"margin-top":"100px"}},o=(0,a._)("h1",{class:"display-4"},"Сервис временно недоступен :-(",-1),c=(0,a._)("p",{class:"lead"},"Загляните к нам чуть позднее. Мы его обязательно починим!",-1),r=[o,c];function m(t,e,n,o,c,m){const p=(0,a.up)("pb-search"),d=(0,a.up)("pb-detail-contact"),u=(0,a.up)("pb-contacts"),f=(0,a.up)("scale-loader");return t.apiService?((0,a.wg)(),(0,a.iD)("div",l,[(0,a.Wm)(p,{modelValue:c.filter,"onUpdate:modelValue":e[0]||(e[0]=t=>c.filter=t)},null,8,["modelValue"]),t.contact?((0,a.wg)(),(0,a.j4)(d,{key:0,item:t.contact},null,8,["item"])):(0,a.kq)("",!0),(0,a.Wm)(u,{contacts:t.contacts,view:t.defaultView,onFilter:e[1]||(e[1]=t=>c.filter=t)},null,8,["contacts","view"]),(0,a._)("div",i,[(0,a.Wm)(f,{loading:t.loading,color:"#337ab7",height:"20px",width:"4px",margin:"2px",radius:"0px"},null,8,["loading"])],512)])):((0,a.wg)(),(0,a.iD)("div",s,r))}var p=n(7929),d=n(6728),u=n(669);const f={class:"search"},h={class:"flex-fill"},v=(0,a._)("div",{class:"fas fa-times",style:{position:"absolute",cursor:"pointer","z-index":"0","font-size":"25px",color:"rgb(170, 170, 170)",top:"11.5px",right:"15px"}},null,-1),g=[v],y=["value"];function b(t,e,n,l,i,s){return(0,a.wg)(),(0,a.iD)("div",f,[(0,a._)("div",h,[(0,a._)("div",{style:{position:"relative",margin:"0",padding:"0",border:"none"},onMouseover:e[2]||(e[2]=t=>i.hoverDiv=!0),onMouseleave:e[3]||(e[3]=t=>i.hoverDiv=!1)},[s.showClear?((0,a.wg)(),(0,a.iD)("div",{key:0,onClick:e[0]||(e[0]=(...t)=>s.clear&&s.clear(...t))},g)):(0,a.kq)("",!0),(0,a._)("input",{ref:"search",type:"text",class:"form-control form-control-lg",placeholder:"Быстрый поиск контактов",spellcheck:"false",autocomplete:"off",value:n.modelValue,onInput:e[1]||(e[1]=(...t)=>s.updateInput&&s.updateInput(...t))},null,40,y)],32)])])}var x={name:"PbSearch",props:{modelValue:String},data(){return{hoverDiv:!1}},computed:{showClear(){return this.hoverDiv&&this.modelValue.length>0}},mounted(){this.searchIntercept&&window.addEventListener("keydown",(t=>{(114===t.keyCode||t.ctrlKey&&70===t.keyCode)&&(t.preventDefault(),this.focus())}))},methods:{updateInput(t){this.$emit("update:modelValue",t.target.value)},clear(){this.$emit("update:modelValue",""),this.$refs.search.focus()},focus(){this.$refs.search.focus(),this.$refs.search.setSelectionRange(0,this.modelValue.length)}},setup(){return{...(0,u.U2)("app/*")}}},w=n(89);const C=(0,w.Z)(x,[["render",b]]);var k=C,D=n(7139);const _=t=>((0,a.dD)("data-v-3e41d6ac"),t=t(),(0,a.Cn)(),t),P={class:"mt-4"},S={class:"p-3 shadow-sm bg-white rounded d-flex flex-fill flex-row align-self-stretch"},j={class:"d-flex flex-column flex-fill"},I={class:"d-flex flex-column flex-sm-row"},H={class:"align-self-top text-center me-0 me-sm-4"},U={class:"p-2 flex-fill text-center text-sm-start"},V=["textContent"],q=["textContent"],z={class:"mt-3"},R={"aria-label":"breadcrumb"},Y={class:"breadcrumb bg-light justify-content-center justify-content-sm-start"},E=["textContent","href"],T={class:"mt-4 row text-muted"},K={class:"d-flex flex-column col align-items-stretch m-2"},$=_((()=>(0,a._)("h6",{class:"m-0 pb-2",style:{"border-bottom":"1px solid #dee2e6"}},[(0,a._)("span",{class:"fa fa-phone"}),(0,a._)("span",{class:"ms-3"},"Телефон для связи:")],-1))),A={class:"flex-fill py-2"},N={class:"d-flex flex-column col align-items-stretch m-2"},Z=_((()=>(0,a._)("h6",{class:"m-0 pb-2",style:{"border-bottom":"1px solid #dee2e6"}},[(0,a._)("span",{class:"fa fa-at"}),(0,a._)("span",{class:"ms-3"},"Электронная почта:")],-1))),F={class:"flex-fill py-2"};function M(t,e,n,l,i,s){const o=(0,a.up)("pb-contact-photo"),c=(0,a.up)("pb-contact-value");return(0,a.wg)(),(0,a.iD)("div",P,[(0,a._)("div",S,[(0,a._)("div",j,[(0,a._)("div",I,[(0,a._)("div",H,[(0,a.Wm)(o,{src:n.item.photo},null,8,["src"])]),(0,a._)("div",U,[(0,a._)("h3",{textContent:(0,D.zw)(n.item.name)},null,8,V),(0,a._)("span",null,[(0,a._)("p",{textContent:(0,D.zw)(n.item.title)},null,8,q),(0,a._)("div",z,[(0,a._)("nav",R,[(0,a._)("ol",Y,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.item.department,(t=>((0,a.wg)(),(0,a.iD)("li",{key:t,class:"breadcrumb-item"},[(0,a._)("a",{textContent:(0,D.zw)(t.name),href:"#"+t.slug},null,8,E)])))),128))])])])]),(0,a._)("div",T,[(0,a._)("div",K,[$,(0,a._)("div",A,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.item.params.phone,(t=>((0,a.wg)(),(0,a.j4)(c,{item:t,key:t},null,8,["item"])))),128))])]),(0,a._)("div",N,[Z,(0,a._)("div",F,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.item.params.email,(t=>((0,a.wg)(),(0,a.j4)(c,{item:t,key:t},null,8,["item"])))),128))])])])])])])])])}const L=["src"];function W(t,e,n,l,i,s){return(0,a.wg)(),(0,a.iD)("img",{class:(0,D.C_)(["img-thumbnail","rounded",{click:t.$attrs.onClick}]),name:"photo",src:s.srcPhoto,style:{"min-width":"70px"}},null,10,L)}var O={name:"PbPhoto",props:{src:String},data(){return{baseUrl:d.v.baseApi}},computed:{srcPhoto(){return this.baseUrl+this.src}},mounted(){}};const B=(0,w.Z)(O,[["render",W],["__scopeId","data-v-a8663694"]]);var X=B;const G=["title"],J={key:0,class:"me-2 text-nowrap"},Q=["href","textContent"],tt={key:0,class:"me-2 text-nowrap"},et=["href","textContent"];function nt(t,e,n,l,i,s){return(0,a.wg)(),(0,a.iD)("div",{class:"value",title:n.hint&&n.item.type||null},[n.small?((0,a.wg)(),(0,a.iD)("small",{key:0,class:(0,D.C_)(["d-flex flex-wrap",{"justify-content-between":!n.center},{"justify-content-center":n.center}])},[n.notitle?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("span",J,(0,D.zw)(n.item.type)+":",1)),(0,a._)("a",{class:(0,D.C_)(["text-nowrap text-end",{"flex-fill":!n.center}]),href:n.item.link,textContent:(0,D.zw)(n.item.value)},null,10,Q)],2)):((0,a.wg)(),(0,a.iD)("span",{key:1,class:(0,D.C_)(["d-flex flex-wrap",{"justify-content-between":!n.center},{"justify-content-center":n.center}])},[n.notitle?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("span",tt,(0,D.zw)(n.item.type)+":",1)),(0,a._)("a",{class:(0,D.C_)(["text-nowrap text-end",{"flex-fill":!n.center}]),href:n.item.link,textContent:(0,D.zw)(n.item.value)},null,10,et)],2))],8,G)}var at={name:"PbContactValue",props:{item:Object,small:{type:Boolean,default:!1},notitle:{type:Boolean,default:!1},center:{type:Boolean,default:!1},hint:{type:Boolean,default:!1}}};const lt=(0,w.Z)(at,[["render",nt],["__scopeId","data-v-f36e5804"]]);var it=lt,st={name:"PbDetailContact",props:{item:Object},components:{PbContactPhoto:X,PbContactValue:it},mounted(){}};const ot=(0,w.Z)(st,[["render",M],["__scopeId","data-v-3e41d6ac"]]);var ct=ot;const rt={class:"mt-4 row p-2"};function mt(t,e,n,l,i,s){const o=(0,a.up)("pb-contact-card"),c=(0,a.up)("pb-contact-table");return(0,a.wg)(),(0,a.iD)("div",rt,["card"==n.view?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:0},(0,a.Ko)(n.contacts,((l,i)=>((0,a.wg)(),(0,a.j4)(o,{item:l,key:l.id,"department-title":s.departmentTitle(l.department,n.contacts[i-1]&&n.contacts[i-1].department),view:n.view,onFilter:e[0]||(e[0]=e=>t.$emit("filter",e))},null,8,["item","department-title","view"])))),128)):(0,a.kq)("",!0),"table"==n.view?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:1},(0,a.Ko)(n.contacts,((l,i)=>((0,a.wg)(),(0,a.j4)(c,{item:l,key:l.id,"department-title":s.departmentTitle(l.department,n.contacts[i-1]&&n.contacts[i-1].department),onFilter:e[1]||(e[1]=e=>t.$emit("filter",e))},null,8,["item","department-title"])))),128)):(0,a.kq)("",!0)])}var pt=n(9242);const dt=t=>((0,a.dD)("data-v-c6262e04"),t=t(),(0,a.Cn)(),t),ut={key:0,class:"col-lg-6 p-0 d-flex card-view"},ft={class:"m-2 p-3 shadow-sm bg-white rounded d-flex flex-fill flex-row align-self-stretch"},ht={class:"d-flex flex-column flex-fill"},vt={key:0,class:"position-relative"},gt=dt((()=>(0,a._)("i",{class:"fa fa-copy fa-lg"},null,-1))),yt=[gt],bt={class:"d-flex flex-column flex-sm-row"},xt={class:"align-self-top text-center pt-2"},wt={class:"p-2 flex-fill"},Ct=["textContent"],kt=["textContent"],Dt=["textContent"],_t={class:"d-flex flex-row justify-content-around justify-content-sm-between text-muted"},Pt={key:0,class:"me-1"},St=dt((()=>(0,a._)("small",{class:"text-nowrap"},[(0,a._)("span",{class:"fa fa-phone"}),(0,a._)("span",{class:"font-weight-bold ms-1"},"Телефон для связи:")],-1))),jt={key:1,class:"ms-1"},It=dt((()=>(0,a._)("small",{class:"text-nowrap"},[(0,a._)("span",{class:"fa fa-at"}),(0,a._)("span",{class:"font-weight-bold ms-1"},"Электронная почта:")],-1)));function Ht(t,e,n,l,i,s){const o=(0,a.up)("pb-contact-department"),c=(0,a.up)("pb-contact-photo"),r=(0,a.up)("pb-contact-value");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(o,{department:n.departmentTitle,onClick:s.clickDepartment},null,8,["department","onClick"]),"card"==n.view?((0,a.wg)(),(0,a.iD)("div",ut,[(0,a._)("div",ft,[(0,a._)("div",ht,[t.clipboardFastCopy?((0,a.wg)(),(0,a.iD)("div",vt,[(0,a._)("a",{class:"copy click",title:"Копировать в буфер обмена",onClick:e[0]||(e[0]=(...t)=>s.clipboardCopy&&s.clipboardCopy(...t))},yt)])):(0,a.kq)("",!0),(0,a._)("div",bt,[(0,a._)("div",xt,[(0,a.Wm)(c,{src:n.item.photo,onClick:(0,pt.iM)(s.clickContact,["prevent"])},null,8,["src","onClick"])]),(0,a._)("div",wt,[(0,a._)("h6",{class:"text-center text-sm-start click",textContent:(0,D.zw)(n.item.name),onClick:e[1]||(e[1]=(0,pt.iM)(((...t)=>s.clickContact&&s.clickContact(...t)),["prevent"]))},null,8,Ct),(0,a._)("small",null,[(0,a._)("p",{class:"text-center text-sm-start m-0",textContent:(0,D.zw)(n.item.title)},null,8,kt),(0,a._)("p",{class:"text-center text-sm-start m-0",textContent:(0,D.zw)(n.item.department.name)},null,8,Dt)])])]),(0,a._)("div",_t,[n.item.params.phone?((0,a.wg)(),(0,a.iD)("div",Pt,[St,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.item.params.phone,(t=>((0,a.wg)(),(0,a.j4)(r,{item:t,key:t,small:""},null,8,["item"])))),128))])):(0,a.kq)("",!0),n.item.params.email?((0,a.wg)(),(0,a.iD)("div",jt,[It,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.item.params.email,(t=>((0,a.wg)(),(0,a.j4)(r,{item:t,key:t,small:""},null,8,["item"])))),128))])):(0,a.kq)("",!0)])])])])):(0,a.kq)("",!0)],64)}const Ut={key:0,class:"col-12 p-0 d-flex"},Vt={class:"m-2 px-2 shadow-sm bg-light rounded d-flex flex-fill flex-column align-self-stretch"},qt=["onClick"],zt=["textContent"],Rt=["onClick"],Yt={class:"m-2 p-2 shadow-sm bg-light rounded d-flex flex-fill flex-column align-self-stretch"},Et={class:"mx-2 d-lg-flex flex-row"},Tt=["textContent"];function Kt(t,e,n,l,i,s){return n.department.length>0?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[t.joinDepartmentName?((0,a.wg)(),(0,a.iD)("div",Ut,[(0,a._)("div",Vt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.department,((e,l)=>((0,a.wg)(),(0,a.iD)("div",{class:"m-2 d-lg-flex flex-row",key:e,onClick:()=>s.clickDepartment(l+1)},[(0,a._)("h5",{class:(0,D.C_)(["m-0 align-self-center flex-fill",{click:t.clickDepartmentName&&(t.clickDepartmentNameLast||l<n.department.length-1)}]),textContent:(0,D.zw)(e.name+(l<n.department.length-1?" /":""))},null,10,zt)],8,qt)))),128))])])):((0,a.wg)(!0),(0,a.iD)(a.HY,{key:1},(0,a.Ko)(n.department,((e,l)=>((0,a.wg)(),(0,a.iD)("div",{key:e,class:"col-12 p-0 d-flex",onClick:()=>s.clickDepartment(l+1)},[(0,a._)("div",Yt,[(0,a._)("div",Et,[(0,a._)("h5",{class:(0,D.C_)(["m-0 align-self-center flex-fill",{click:t.clickDepartmentName&&(t.clickDepartmentNameLast||l<n.department.length-1)}]),textContent:(0,D.zw)(e.name)},null,10,Tt)])])],8,Rt)))),128))],64)):(0,a.kq)("",!0)}var $t={name:"PbContactDepartment",props:{department:{type:Array,default:[]}},emits:["click"],methods:{clickDepartment(t){this.clickDepartmentName&&(this.clickDepartmentNameLast||t<this.department.length)&&this.$emit("click",this.department[t-1].slug)}},setup(){return{...(0,u.U2)("app/*")}}};const At=(0,w.Z)($t,[["render",Kt],["__scopeId","data-v-c393bf54"]]);var Nt=At,Zt=n(1945),Ft=n.n(Zt),Mt={name:"PbContactCard",props:{item:Object,departmentTitle:{type:Array,default:[]},view:{type:String,default:"card"}},components:{PbContactValue:it,PbContactDepartment:Nt,PbContactPhoto:X},emits:["filter"],methods:{clickContact(){const t=document.getSelection().toString();t.length>0||this.$emit("filter",this.item.slug)},clickDepartment(t){const e=document.getSelection().toString();e.length>0||this.$emit("filter",t)},clipboardCopy(){let t=[];this.clipboardCopyItems_name&&(t=t.concat(this.item.name)),this.clipboardCopyItems_title&&(t=t.concat(this.item.title)),this.clipboardCopyItems_company&&(t=t.concat(this.item.department[0])),this.clipboardCopyItems_department&&(t=t.concat(this.item.department.slice(1))),Ft()(t.join("\t"),{format:"text/plain"})}},setup(){return{...(0,u.U2)("app/*")}}};const Lt=(0,w.Z)(Mt,[["render",Ht],["__scopeId","data-v-c6262e04"]]);var Wt=Lt;const Ot=t=>((0,a.dD)("data-v-3bebfa6c"),t=t(),(0,a.Cn)(),t),Bt=(0,a.uE)('<div class="row py-2 mx-0 px-0" data-v-3bebfa6c><div class="col text-center" data-v-3bebfa6c><h6 data-v-3bebfa6c><small data-v-3bebfa6c>Должность / Ф.И.О.</small></h6></div><div class="col text-center" data-v-3bebfa6c><h6 data-v-3bebfa6c><small data-v-3bebfa6c>Телефон внутренний</small></h6></div><div class="col text-center" data-v-3bebfa6c><h6 data-v-3bebfa6c><small data-v-3bebfa6c>Телефон городской</small></h6></div><div class="col text-center" data-v-3bebfa6c><h6 data-v-3bebfa6c><small data-v-3bebfa6c>HiCom</small></h6></div><div class="col text-center" data-v-3bebfa6c><h6 data-v-3bebfa6c><small data-v-3bebfa6c>Электронная почта</small></h6></div></div>',1),Xt={class:"col"},Gt={class:"text-center text-sm-start"},Jt=["textContent"],Qt=Ot((()=>(0,a._)("br",null,null,-1))),te=["textContent"],ee={class:"col"},ne={class:"justify-content-center"},ae={class:"col"},le={class:"justify-content-center"},ie={class:"col"},se={class:"justify-content-center"},oe={class:"col"},ce={class:"justify-content-center"};function re(t,e,n,l,i,s){const o=(0,a.up)("pb-contact-department"),c=(0,a.up)("pb-contact-value");return(0,a.wg)(),(0,a.iD)(a.HY,null,[n.departmentTitle.length>0?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a.Wm)(o,{department:n.departmentTitle,onClick:s.clickDepartment},null,8,["department","onClick"]),Bt],64)):(0,a.kq)("",!0),(0,a._)("div",{class:"row py-2 mx-0 px-0 click align-items-center",onClick:e[0]||(e[0]=(...t)=>s.clickContact&&s.clickContact(...t))},[(0,a._)("small",Xt,[(0,a._)("div",Gt,[(0,a._)("span",{textContent:(0,D.zw)(n.item.title)},null,8,Jt),Qt,(0,a._)("span",{textContent:(0,D.zw)(n.item.name)},null,8,te)])]),(0,a._)("div",ee,[(0,a._)("div",ne,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.extPhone(n.item.params.phone),(t=>((0,a.wg)(),(0,a.j4)(c,{key:t,item:t,notitle:1==s.uniqItem(s.extPhone(n.item.params.phone).map((t=>t.type))).length,small:"",center:"",hint:""},null,8,["item","notitle"])))),128))])]),(0,a._)("div",ae,[(0,a._)("div",le,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.intPhone(n.item.params.phone),(t=>((0,a.wg)(),(0,a.j4)(c,{key:t,item:t,notitle:1==s.uniqItem(s.intPhone(n.item.params.phone).map((t=>t.type))).length,small:"",center:"",hint:""},null,8,["item","notitle"])))),128))])]),(0,a._)("div",ie,[(0,a._)("div",se,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.hicomPhone(n.item.params.phone),(t=>((0,a.wg)(),(0,a.j4)(c,{key:t,item:t,notitle:1==s.uniqItem(s.hicomPhone(n.item.params.phone).map((t=>t.type))).length,small:"",center:"",hint:""},null,8,["item","notitle"])))),128))])]),(0,a._)("div",oe,[(0,a._)("div",ce,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.item.params.email,(t=>((0,a.wg)(),(0,a.j4)(c,{key:t,item:t,notitle:1==s.uniqItem(n.item.params.email.map((t=>t.type))).length,small:"",center:"",hint:""},null,8,["item","notitle"])))),128))])])])],64)}var me={name:"PbContactTable",props:{item:Object,departmentTitle:{type:Array,default:[]}},components:{PbContactValue:it,PbContactDepartment:Nt,PbContactPhoto:X},emits:["filter"],methods:{clickContact(){const t=document.getSelection().toString();t.length>0||this.$emit("filter",this.item.slug)},clickDepartment(t){const e=document.getSelection().toString();e.length>0||this.$emit("filter",t)},extPhone(t){return t.filter((t=>RegExp("^рабочий|^конференция","i").test(t.type)))},intPhone(t){return t.filter((t=>RegExp("^городской","i").test(t.type)))},hicomPhone(t){return t.filter((t=>RegExp("^hicom","i").test(t.type)))},uniqItem(t){return t.filter(((t,e,n)=>n.indexOf(t)===e))}}};const pe=(0,w.Z)(me,[["render",re],["__scopeId","data-v-3bebfa6c"]]);var de=pe,ue={name:"PbContacts",props:{contacts:{type:Array,default:[]},view:{type:String,default:"card"}},components:{PbContactCard:Wt,PbContactTable:de},emits:["filter"],methods:{departmentTitle(t,e=[]){for(let n=0;n<t.length;n++)if(!e[n]||e[n].slug!=t[n].slug)return t.slice(n);return[]}}};const fe=(0,w.Z)(ue,[["render",mt]]);var he=fe;const ve={class:"v-spinner"};function ge(t,e,n,l,i,s){return(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",ve,[(0,a._)("div",{class:"v-scale v-scale1",style:(0,D.j5)([i.spinnerStyle,i.spinnerDelay1])},null,4),(0,a._)("div",{class:"v-scale v-scale2",style:(0,D.j5)([i.spinnerStyle,i.spinnerDelay2])},null,4),(0,a._)("div",{class:"v-scale v-scale3",style:(0,D.j5)([i.spinnerStyle,i.spinnerDelay3])},null,4),(0,a._)("div",{class:"v-scale v-scale4",style:(0,D.j5)([i.spinnerStyle,i.spinnerDelay4])},null,4),(0,a._)("div",{class:"v-scale v-scale5",style:(0,D.j5)([i.spinnerStyle,i.spinnerDelay5])},null,4)],512)),[[pt.F8,n.loading]])}var ye={name:"ScaleLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},height:{type:String,default:"35px"},width:{type:String,default:"4px"},margin:{type:String,default:"2px"},radius:{type:String,default:"2px"}},data(){return{spinnerStyle:{backgroundColor:this.color,height:this.height,width:this.width,margin:this.margin,borderRadius:this.radius,display:"inline-block",animationName:"v-scaleStretchDelay",animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(.2,.68,.18,1.08)",animationFillMode:"both"},spinnerDelay1:{animationDelay:"0.1s"},spinnerDelay2:{animationDelay:"0.2s"},spinnerDelay3:{animationDelay:"0.3s"},spinnerDelay4:{animationDelay:"0.4s"},spinnerDelay5:{animationDelay:"0.5s"}}}};const be=(0,w.Z)(ye,[["render",ge]]);var xe=be,we={name:"ContactsView",components:{PbSearch:k,PbDetailContact:ct,PbContacts:he,ScaleLoader:xe},data(){return{limit:30,filter:this.getUrlHashValue()}},mounted(){const t={rootMargin:"0px",threshold:1},e=(t,e)=>{t[0].isIntersecting&&this.loadMoreContacts({limit:0==this.contacts.length?10:this.limit,filter:this.filter})},n=new IntersectionObserver(e,t);n.observe(this.$refs.observer)},unmounted(){this.contacts.length>100&&this.loadContacts({limit:10,filter:this.filter,reload:!0})},methods:{...(0,u.RE)("phonebook",["loadMoreContacts","loadContacts"]),getUrlHashValue(){let t=decodeURIComponent(window.location.hash.slice(1));switch(t){case"index":return""}return t}},watch:{filter(t){window.location.hash=t,t!=this.lastFilter&&this.loadContacts({limit:10,filter:t,reload:!0})}},setup(){return(0,p.jq)({title:d.v.title("Контакты")}),{...(0,u.U2)("app/*"),...(0,u.U2)("phonebook/*")}},created(){this.filter=this.lastFilter||this.getUrlHashValue(),window.onhashchange=t=>{let e=this.getUrlHashValue();switch(e){case"index":this.filter="";break;default:this.filter=e}}}};const Ce=(0,w.Z)(we,[["render",m]]);var ke=Ce}}]);
//# sourceMappingURL=views-Contacts.f501bcb2.js.map