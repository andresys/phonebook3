(self["webpackChunkphonebook3_client"]=self["webpackChunkphonebook3_client"]||[]).push([[238],{1945:function(t,e,n){"use strict";n(1703);var a=n(3545),l={"text/plain":"Text","text/html":"Url",default:"Text"},o="Copy to clipboard: #{key}, Enter";function i(t){var e=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function s(t,e){var n,s,c,r,p,m,d=!1;e||(e={}),n=e.debug||!1;try{c=a(),r=document.createRange(),p=document.getSelection(),m=document.createElement("span"),m.textContent=t,m.style.all="unset",m.style.position="fixed",m.style.top=0,m.style.clip="rect(0, 0, 0, 0)",m.style.whiteSpace="pre",m.style.webkitUserSelect="text",m.style.MozUserSelect="text",m.style.msUserSelect="text",m.style.userSelect="text",m.addEventListener("copy",(function(a){if(a.stopPropagation(),e.format)if(a.preventDefault(),"undefined"===typeof a.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=l[e.format]||l["default"];window.clipboardData.setData(o,t)}else a.clipboardData.clearData(),a.clipboardData.setData(e.format,t);e.onCopy&&(a.preventDefault(),e.onCopy(a.clipboardData))})),document.body.appendChild(m),r.selectNodeContents(m),p.addRange(r);var u=document.execCommand("copy");if(!u)throw new Error("copy command was unsuccessful");d=!0}catch(f){n&&console.error("unable to copy using execCommand: ",f),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),d=!0}catch(f){n&&console.error("unable to copy using clipboardData: ",f),n&&console.error("falling back to prompt"),s=i("message"in e?e.message:o),window.prompt(s,t)}}finally{p&&("function"==typeof p.removeRange?p.removeRange(r):p.removeAllRanges()),m&&document.body.removeChild(m),c()}return d}t.exports=s},3545:function(t){t.exports=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,n=[],a=0;a<t.rangeCount;a++)n.push(t.getRangeAt(a));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){"Caret"===t.type&&t.removeAllRanges(),t.rangeCount||n.forEach((function(e){t.addRange(e)})),e&&e.focus()}}},9148:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return Se}});var a=n(3396),l=n(7139);const o=t=>((0,a.dD)("data-v-50e33ae0"),t=t(),(0,a.Cn)(),t),i={key:0},s={ref:"observer",class:"observer"},c={key:1,class:"text-center",style:{"margin-top":"100px"}},r=o((()=>(0,a._)("h1",{class:"display-4"},"Сервис временно недоступен :-(",-1))),p=o((()=>(0,a._)("p",{class:"lead"},"Загляните к нам чуть позднее. Мы его обязательно починим!",-1))),m=[r,p];function d(t,e,n,o,r,p){const d=(0,a.up)("pb-search"),u=(0,a.up)("pb-detail-contact"),f=(0,a.up)("pb-contacts"),h=(0,a.up)("scale-loader");return t.apiService?((0,a.wg)(),(0,a.iD)("div",i,[(0,a.Wm)(d),(0,a._)("div",{class:(0,l.C_)(["contacts",{loading:t.loading&&!t.loadingShow}])},[(0,a.Wm)(u),(0,a.Wm)(f,{view:t.defaultView},null,8,["view"])],2),(0,a._)("div",s,[(0,a.Wm)(h,{loading:t.loadingShow,color:"#337ab7",height:"20px",width:"4px",margin:"2px",radius:"0px"},null,8,["loading"])],512)])):((0,a.wg)(),(0,a.iD)("div",c,m))}var u=n(7929),f=n(6728),h=n(669),g=n(9242);const v=t=>((0,a.dD)("data-v-0953fec5"),t=t(),(0,a.Cn)(),t),y={key:0,class:"btn-ctrl"},b=v((()=>(0,a._)("i",{class:"fa-solid fa-magnifying-glass"},null,-1))),x=[b],w={class:"search-ctrl"},C=v((()=>(0,a._)("div",{class:"fas fa-times",style:{position:"absolute",cursor:"pointer","z-index":"0","font-size":"25px",color:"rgb(170, 170, 170)",top:"11.5px",right:"15px"}},null,-1))),k=[C];function _(t,e,n,o,i,s){return(0,a.wg)(),(0,a.iD)("div",{class:(0,l.C_)(["search d-flex justify-content-end",{animate:i.animate},{active:i.focusState},{"auto-hide":!i.focusState&&t.searchAutoHide&&t.filter}])},[t.searchAutoHide?((0,a.wg)(),(0,a.iD)("div",y,[(0,a._)("button",{type:"button",class:"btn btn-primary btn-search",onClick:e[0]||(e[0]=t=>i.focusState=!0),title:"Поиск контактов"},x)])):(0,a.kq)("",!0),(0,a._)("div",w,[(0,a._)("div",{style:{position:"relative",margin:"0",padding:"0",border:"none"},onMouseover:e[7]||(e[7]=t=>i.hoverDiv=!0),onMouseleave:e[8]||(e[8]=t=>i.hoverDiv=!1)},[s.showClear?((0,a.wg)(),(0,a.iD)("div",{key:0,onClick:e[1]||(e[1]=(...t)=>s.clear&&s.clear(...t))},k)):(0,a.kq)("",!0),(0,a.wy)((0,a._)("input",{ref:"search",type:"text",class:"form-control form-control-lg",placeholder:"Быстрый поиск контактов",spellcheck:"false",autocomplete:"off","onUpdate:modelValue":e[2]||(e[2]=e=>t.filter=e),onBlur:e[3]||(e[3]=t=>s.setFocus(!1)),onFocus:e[4]||(e[4]=t=>s.setFocus(!0)),onKeydown:[e[5]||(e[5]=(0,g.D2)((t=>i.focusState=!1),["esc"])),e[6]||(e[6]=(0,g.D2)((t=>i.focusState=!1),["enter"]))]},null,544),[[g.nr,t.filter]])],32)])],2)}var D={name:"PbSearch",data(){return{hoverDiv:!1,focusState:!1,animate:!1}},computed:{showClear(){return this.hoverDiv&&this.filter.length>0}},mounted(){this.searchIntercept&&window.addEventListener("keydown",(t=>{(114===t.keyCode||t.ctrlKey&&70===t.keyCode)&&(t.preventDefault(),this.focusState=!0,this.selectAll())}))},methods:{clear(){this.focusState=!0,this.filterChange("")},selectAll(){this.$refs.search.setSelectionRange(0,this.filter.length),this.focusState=!0},setFocus(t){setTimeout((()=>{this.focusState=t}),200)}},watch:{focusState(t){this.animate=!0,t?setTimeout((()=>{this.$refs.search.focus(),this.animate=!1}),200):setTimeout((()=>{this.$refs.search.blur(),this.animate=!1}),200)}},setup(){return{...(0,h.U2)("app/*"),...(0,h.Z_)("phonebook",["filter"]),...(0,h.RE)("phonebook",["filterChange"])}}},S=n(89);const P=(0,S.Z)(D,[["render",_],["__scopeId","data-v-0953fec5"]]);var j=P;const I=t=>((0,a.dD)("data-v-04f98b36"),t=t(),(0,a.Cn)(),t),E={key:0,class:"mt-4"},R={class:"p-3 shadow-sm bg-white rounded d-flex flex-fill flex-row align-self-stretch"},H={class:"d-flex flex-column flex-fill"},q={class:"d-flex flex-column flex-sm-row"},T={class:"align-self-top text-center me-0 me-sm-4"},z={class:"p-2 flex-fill text-center text-sm-start"},U=["textContent"],Y=["textContent"],A={class:"mt-3"},K={"aria-label":"breadcrumb"},Z={class:"breadcrumb bg-light justify-content-center justify-content-sm-start"},N=["textContent","onClick"],F={class:"mt-4 row text-muted"},L={class:"d-flex flex-column col align-items-stretch m-2"},W=I((()=>(0,a._)("h6",{class:"m-0 pb-2",style:{"border-bottom":"1px solid #dee2e6"}},[(0,a._)("span",{class:"fa fa-phone"}),(0,a._)("span",{class:"ms-3"},"Телефон для связи:")],-1))),M={class:"flex-fill py-2"},V={class:"d-flex flex-column col align-items-stretch m-2"},B=I((()=>(0,a._)("h6",{class:"m-0 pb-2",style:{"border-bottom":"1px solid #dee2e6"}},[(0,a._)("span",{class:"fa fa-at"}),(0,a._)("span",{class:"ms-3"},"Электронная почта:")],-1))),O={class:"flex-fill py-2"};function $(t,e,n,o,i,s){const c=(0,a.up)("pb-contact-photo"),r=(0,a.up)("pb-contact-value");return t.contact?((0,a.wg)(),(0,a.iD)("div",E,[(0,a._)("div",R,[(0,a._)("div",H,[(0,a._)("div",q,[(0,a._)("div",T,[(0,a.Wm)(c,{src:t.contact.photo},null,8,["src"])]),(0,a._)("div",z,[(0,a._)("h3",{textContent:(0,l.zw)(t.contact.name)},null,8,U),(0,a._)("span",null,[(0,a._)("p",{textContent:(0,l.zw)(t.contact.title)},null,8,Y),(0,a._)("div",A,[(0,a._)("nav",K,[(0,a._)("ol",Z,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.contact.department,((t,e)=>((0,a.wg)(),(0,a.iD)("li",{key:t,class:"breadcrumb-item"},[(0,a._)("a",{class:"click",textContent:(0,l.zw)(t.name),onClick:()=>s.clickDepartment(e+1)},null,8,N)])))),128))])])])]),(0,a._)("div",F,[(0,a._)("div",L,[W,(0,a._)("div",M,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.contact.params.phone,(t=>((0,a.wg)(),(0,a.j4)(r,{item:t,key:t},null,8,["item"])))),128))])]),(0,a._)("div",V,[B,(0,a._)("div",O,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.contact.params.email,(t=>((0,a.wg)(),(0,a.j4)(r,{item:t,key:t},null,8,["item"])))),128))])])])])])])])])):(0,a.kq)("",!0)}const X=["src"];function G(t,e,n,o,i,s){return(0,a.wg)(),(0,a.iD)("img",{class:(0,l.C_)(["img-thumbnail","rounded",{click:t.$attrs.onClick}]),name:"photo",src:s.srcPhoto,style:{"min-width":"70px"}},null,10,X)}var J={name:"PbPhoto",props:{src:String},data(){return{baseUrl:f.v.baseApi}},computed:{srcPhoto(){return this.baseUrl+this.src}},mounted(){}};const Q=(0,S.Z)(J,[["render",G],["__scopeId","data-v-a8663694"]]);var tt=Q;const et=["title"],nt={key:0,class:"me-2 text-nowrap"},at=["href","textContent"],lt={key:0,class:"me-2 text-nowrap"},ot=["href","textContent"];function it(t,e,n,o,i,s){return(0,a.wg)(),(0,a.iD)("div",{class:"value",title:n.hint&&n.item.type||null},[n.small?((0,a.wg)(),(0,a.iD)("small",{key:0,class:(0,l.C_)(["d-flex flex-wrap",{"justify-content-between":!n.center},{"justify-content-center":n.center}])},[n.notitle?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("span",nt,(0,l.zw)(n.item.type)+":",1)),(0,a._)("a",{class:(0,l.C_)(["text-nowrap text-end",{"flex-fill":!n.center}]),href:n.item.link,textContent:(0,l.zw)(n.item.value)},null,10,at)],2)):((0,a.wg)(),(0,a.iD)("span",{key:1,class:(0,l.C_)(["d-flex flex-wrap",{"justify-content-between":!n.center},{"justify-content-center":n.center}])},[n.notitle?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("span",lt,(0,l.zw)(n.item.type)+":",1)),(0,a._)("a",{class:(0,l.C_)(["text-nowrap text-end",{"flex-fill":!n.center}]),href:n.item.link,textContent:(0,l.zw)(n.item.value)},null,10,ot)],2))],8,et)}var st={name:"PbContactValue",props:{item:Object,small:{type:Boolean,default:!1},notitle:{type:Boolean,default:!1},center:{type:Boolean,default:!1},hint:{type:Boolean,default:!1}}};const ct=(0,S.Z)(st,[["render",it],["__scopeId","data-v-f36e5804"]]);var rt=ct,pt={name:"PbDetailContact",components:{PbContactPhoto:tt,PbContactValue:rt},methods:{clickDepartment(t){if(this.clickDepartmentName&&(this.clickDepartmentNameLast||t<this.contact.department.length)){const e=document.getSelection().toString();if(e.length>0)return;this.filterChange(this.contact.department[t-1].slug)}}},setup(){return{...(0,h.U2)("app/*"),...(0,h.U2)("phonebook/",["contact"]),...(0,h.Z_)("phonebook/",["filter"]),...(0,h.RE)("phonebook",["filterChange"])}}};const mt=(0,S.Z)(pt,[["render",$],["__scopeId","data-v-04f98b36"]]);var dt=mt;const ut={class:"mt-4 row p-2"};function ft(t,e,n,l,o,i){const s=(0,a.up)("pb-contact-card"),c=(0,a.up)("pb-contact-table");return(0,a.wg)(),(0,a.iD)("div",ut,["card"==n.view?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:0},(0,a.Ko)(t.contacts,((e,l)=>((0,a.wg)(),(0,a.j4)(s,{item:e,key:e.id,"department-title":i.departmentTitle(e.department,t.contacts[l-1]&&t.contacts[l-1].department),view:n.view},null,8,["item","department-title","view"])))),128)):(0,a.kq)("",!0),"table"==n.view?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:1},(0,a.Ko)(t.contacts,((e,n)=>((0,a.wg)(),(0,a.j4)(c,{item:e,key:e.id,"department-title":i.departmentTitle(e.department,t.contacts[n-1]&&t.contacts[n-1].department)},null,8,["item","department-title"])))),128)):(0,a.kq)("",!0)])}const ht=t=>((0,a.dD)("data-v-b99620c0"),t=t(),(0,a.Cn)(),t),gt={key:0,class:"col-lg-6 p-0 d-flex card-view"},vt={class:"m-2 p-3 shadow-sm bg-white rounded d-flex flex-fill flex-row align-self-stretch"},yt={class:"d-flex flex-column flex-fill"},bt={key:0,class:"position-relative"},xt=ht((()=>(0,a._)("i",{class:"fa fa-copy fa-lg"},null,-1))),wt=[xt],Ct={class:"d-flex flex-column flex-sm-row"},kt={class:"align-self-top text-center pt-2"},_t={class:"p-2 flex-fill"},Dt=["textContent"],St=["textContent"],Pt=["textContent"],jt={class:"d-flex flex-row justify-content-around justify-content-sm-between text-muted"},It={key:0,class:"me-1"},Et=ht((()=>(0,a._)("small",{class:"text-nowrap"},[(0,a._)("span",{class:"fa fa-phone"}),(0,a._)("span",{class:"font-weight-bold ms-1"},"Телефон для связи:")],-1))),Rt={key:1,class:"ms-1"},Ht=ht((()=>(0,a._)("small",{class:"text-nowrap"},[(0,a._)("span",{class:"fa fa-at"}),(0,a._)("span",{class:"font-weight-bold ms-1"},"Электронная почта:")],-1)));function qt(t,e,n,o,i,s){const c=(0,a.up)("pb-contact-department"),r=(0,a.up)("pb-contact-photo"),p=(0,a.up)("pb-contact-value");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(c,{department:n.departmentTitle},null,8,["department"]),"card"==n.view?((0,a.wg)(),(0,a.iD)("div",gt,[(0,a._)("div",vt,[(0,a._)("div",yt,[t.clipboardFastCopy?((0,a.wg)(),(0,a.iD)("div",bt,[(0,a._)("a",{class:"copy click",title:"Копировать в буфер обмена",onClick:e[0]||(e[0]=(...t)=>s.clipboardCopy&&s.clipboardCopy(...t))},wt)])):(0,a.kq)("",!0),(0,a._)("div",Ct,[(0,a._)("div",kt,[(0,a.Wm)(r,{src:n.item.photo,onClick:(0,g.iM)(s.clickContact,["prevent"])},null,8,["src","onClick"])]),(0,a._)("div",_t,[(0,a._)("h6",{class:"text-center text-sm-start click",textContent:(0,l.zw)(n.item.name),onClick:e[1]||(e[1]=(0,g.iM)(((...t)=>s.clickContact&&s.clickContact(...t)),["prevent"]))},null,8,Dt),(0,a._)("small",null,[(0,a._)("p",{class:"text-center text-sm-start m-0",textContent:(0,l.zw)(n.item.title)},null,8,St),(0,a._)("p",{class:"text-center text-sm-start m-0",textContent:(0,l.zw)(n.item.department.name)},null,8,Pt)])])]),(0,a._)("div",jt,[n.item.params.phone?((0,a.wg)(),(0,a.iD)("div",It,[Et,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.item.params.phone,(t=>((0,a.wg)(),(0,a.j4)(p,{item:t,key:t,small:""},null,8,["item"])))),128))])):(0,a.kq)("",!0),n.item.params.email?((0,a.wg)(),(0,a.iD)("div",Rt,[Ht,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.item.params.email,(t=>((0,a.wg)(),(0,a.j4)(p,{item:t,key:t,small:""},null,8,["item"])))),128))])):(0,a.kq)("",!0)])])])])):(0,a.kq)("",!0)],64)}const Tt={key:0,class:"col-12 p-0 d-flex"},zt={class:"m-2 px-2 shadow-sm bg-light rounded d-flex flex-fill flex-column align-self-stretch"},Ut=["onClick"],Yt=["textContent"],At=["onClick"],Kt={class:"m-2 p-2 shadow-sm bg-light rounded d-flex flex-fill flex-column align-self-stretch"},Zt={class:"mx-2 d-lg-flex flex-row"},Nt=["textContent"];function Ft(t,e,n,o,i,s){return n.department.length>0?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[t.joinDepartmentName?((0,a.wg)(),(0,a.iD)("div",Tt,[(0,a._)("div",zt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.department,((e,o)=>((0,a.wg)(),(0,a.iD)("div",{class:"m-2 d-lg-flex flex-row",key:e,onClick:()=>s.clickDepartment(o+1)},[(0,a._)("h5",{class:(0,l.C_)(["m-0 align-self-center flex-fill",{click:t.clickDepartmentName&&(t.clickDepartmentNameLast||o<n.department.length-1)}]),textContent:(0,l.zw)(e.name+(o<n.department.length-1?" /":""))},null,10,Yt)],8,Ut)))),128))])])):((0,a.wg)(!0),(0,a.iD)(a.HY,{key:1},(0,a.Ko)(n.department,((e,o)=>((0,a.wg)(),(0,a.iD)("div",{key:e,class:"col-12 p-0 d-flex",onClick:()=>s.clickDepartment(o+1)},[(0,a._)("div",Kt,[(0,a._)("div",Zt,[(0,a._)("h5",{class:(0,l.C_)(["m-0 align-self-center flex-fill",{click:t.clickDepartmentName&&(t.clickDepartmentNameLast||o<n.department.length-1)}]),textContent:(0,l.zw)(e.name)},null,10,Nt)])])],8,At)))),128))],64)):(0,a.kq)("",!0)}var Lt={name:"PbContactDepartment",props:{department:{type:Array,default:[]}},methods:{clickDepartment(t){if(this.clickDepartmentName&&(this.clickDepartmentNameLast||t<this.department.length)){const e=document.getSelection().toString();if(e.length>0)return;this.filterChange(this.department[t-1].slug)}}},setup(){return{...(0,h.U2)("app/*"),...(0,h.Z_)("phonebook/",["filter"]),...(0,h.RE)("phonebook",["filterChange"])}}};const Wt=(0,S.Z)(Lt,[["render",Ft],["__scopeId","data-v-1c244298"]]);var Mt=Wt,Vt=n(1945),Bt=n.n(Vt),Ot={name:"PbContactCard",props:{item:Object,departmentTitle:{type:Array,default:[]},view:{type:String,default:"card"}},components:{PbContactValue:rt,PbContactDepartment:Mt,PbContactPhoto:tt},methods:{clickContact(){const t=document.getSelection().toString();t.length>0||this.filterChange(this.item.slug)},clipboardCopy(){let t=[];this.clipboardCopyItems_name&&(t=t.concat(this.item.name)),this.clipboardCopyItems_title&&(t=t.concat(this.item.title)),this.clipboardCopyItems_company&&(t=t.concat(this.item.department[0].name)),this.clipboardCopyItems_department&&(t=t.concat(this.item.department.slice(1).map((t=>t.name)))),Bt()(t.join("\t"),{format:"text/plain"})}},setup(){return{...(0,h.U2)("app/*"),...(0,h.Z_)("phonebook/",["filter"]),...(0,h.RE)("phonebook",["filterChange"])}}};const $t=(0,S.Z)(Ot,[["render",qt],["__scopeId","data-v-b99620c0"]]);var Xt=$t;const Gt=t=>((0,a.dD)("data-v-b83fa16c"),t=t(),(0,a.Cn)(),t),Jt=(0,a.uE)('<div class="row py-2 mx-0 px-0" data-v-b83fa16c><div class="col text-center" data-v-b83fa16c><h6 data-v-b83fa16c><small data-v-b83fa16c>Должность / Ф.И.О.</small></h6></div><div class="col text-center" data-v-b83fa16c><h6 data-v-b83fa16c><small data-v-b83fa16c>Телефон внутренний</small></h6></div><div class="col text-center" data-v-b83fa16c><h6 data-v-b83fa16c><small data-v-b83fa16c>Телефон городской</small></h6></div><div class="col text-center" data-v-b83fa16c><h6 data-v-b83fa16c><small data-v-b83fa16c>HiCom</small></h6></div><div class="col text-center" data-v-b83fa16c><h6 data-v-b83fa16c><small data-v-b83fa16c>Электронная почта</small></h6></div></div>',1),Qt={class:"col"},te={class:"text-center text-sm-start"},ee=["textContent"],ne=Gt((()=>(0,a._)("br",null,null,-1))),ae=["textContent"],le={class:"col"},oe={class:"justify-content-center"},ie={class:"col"},se={class:"justify-content-center"},ce={class:"col"},re={class:"justify-content-center"},pe={class:"col"},me={class:"justify-content-center"};function de(t,e,n,o,i,s){const c=(0,a.up)("pb-contact-department"),r=(0,a.up)("pb-contact-value");return(0,a.wg)(),(0,a.iD)(a.HY,null,[n.departmentTitle.length>0?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a.Wm)(c,{department:n.departmentTitle},null,8,["department"]),Jt],64)):(0,a.kq)("",!0),(0,a._)("div",{class:"row py-2 mx-0 px-0 click align-items-center",onClick:e[0]||(e[0]=(...t)=>s.clickContact&&s.clickContact(...t))},[(0,a._)("small",Qt,[(0,a._)("div",te,[(0,a._)("span",{textContent:(0,l.zw)(n.item.title)},null,8,ee),ne,(0,a._)("span",{textContent:(0,l.zw)(n.item.name)},null,8,ae)])]),(0,a._)("div",le,[(0,a._)("div",oe,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.extPhone(n.item.params.phone),(t=>((0,a.wg)(),(0,a.j4)(r,{key:t,item:t,notitle:1==s.uniqItem(s.extPhone(n.item.params.phone).map((t=>t.type))).length,small:"",center:"",hint:""},null,8,["item","notitle"])))),128))])]),(0,a._)("div",ie,[(0,a._)("div",se,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.intPhone(n.item.params.phone),(t=>((0,a.wg)(),(0,a.j4)(r,{key:t,item:t,notitle:1==s.uniqItem(s.intPhone(n.item.params.phone).map((t=>t.type))).length,small:"",center:"",hint:""},null,8,["item","notitle"])))),128))])]),(0,a._)("div",ce,[(0,a._)("div",re,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.hicomPhone(n.item.params.phone),(t=>((0,a.wg)(),(0,a.j4)(r,{key:t,item:t,notitle:1==s.uniqItem(s.hicomPhone(n.item.params.phone).map((t=>t.type))).length,small:"",center:"",hint:""},null,8,["item","notitle"])))),128))])]),(0,a._)("div",pe,[(0,a._)("div",me,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.item.params.email,(t=>((0,a.wg)(),(0,a.j4)(r,{key:t,item:t,notitle:1==s.uniqItem(n.item.params.email.map((t=>t.type))).length,small:"",center:"",hint:""},null,8,["item","notitle"])))),128))])])])],64)}var ue={name:"PbContactTable",props:{item:Object,departmentTitle:{type:Array,default:[]}},components:{PbContactValue:rt,PbContactDepartment:Mt,PbContactPhoto:tt},methods:{clickContact(){const t=document.getSelection().toString();t.length>0||this.filterChange(this.item.slug)},extPhone(t){return t.filter((t=>RegExp("^рабочий|^конференция","i").test(t.type)))},intPhone(t){return t.filter((t=>RegExp("^городской","i").test(t.type)))},hicomPhone(t){return t.filter((t=>RegExp("^hicom","i").test(t.type)))},uniqItem(t){return t.filter(((t,e,n)=>n.indexOf(t)===e))}},setup(){return{...(0,h.U2)("app/*"),...(0,h.Z_)("phonebook/",["filter"]),...(0,h.RE)("phonebook",["filterChange"])}}};const fe=(0,S.Z)(ue,[["render",de],["__scopeId","data-v-b83fa16c"]]);var he=fe,ge={name:"PbContacts",props:{view:{type:String,default:"card"}},components:{PbContactCard:Xt,PbContactTable:he},methods:{departmentTitle(t,e=[]){for(let n=0;n<t.length;n++)if(!e[n]||e[n].slug!=t[n].slug)return t.slice(n);return[]}},setup(){return{...(0,h.U2)("phonebook/",["contacts"])}}};const ve=(0,S.Z)(ge,[["render",ft]]);var ye=ve;const be={class:"v-spinner"};function xe(t,e,n,o,i,s){return(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",be,[(0,a._)("div",{class:"v-scale v-scale1",style:(0,l.j5)([i.spinnerStyle,i.spinnerDelay1])},null,4),(0,a._)("div",{class:"v-scale v-scale2",style:(0,l.j5)([i.spinnerStyle,i.spinnerDelay2])},null,4),(0,a._)("div",{class:"v-scale v-scale3",style:(0,l.j5)([i.spinnerStyle,i.spinnerDelay3])},null,4),(0,a._)("div",{class:"v-scale v-scale4",style:(0,l.j5)([i.spinnerStyle,i.spinnerDelay4])},null,4),(0,a._)("div",{class:"v-scale v-scale5",style:(0,l.j5)([i.spinnerStyle,i.spinnerDelay5])},null,4)],512)),[[g.F8,n.loading]])}var we={name:"ScaleLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},height:{type:String,default:"35px"},width:{type:String,default:"4px"},margin:{type:String,default:"2px"},radius:{type:String,default:"2px"}},data(){return{spinnerStyle:{backgroundColor:this.color,height:this.height,width:this.width,margin:this.margin,borderRadius:this.radius,display:"inline-block",animationName:"v-scaleStretchDelay",animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(.2,.68,.18,1.08)",animationFillMode:"both"},spinnerDelay1:{animationDelay:"0.1s"},spinnerDelay2:{animationDelay:"0.2s"},spinnerDelay3:{animationDelay:"0.3s"},spinnerDelay4:{animationDelay:"0.4s"},spinnerDelay5:{animationDelay:"0.5s"}}}};const Ce=(0,S.Z)(we,[["render",xe]]);var ke=Ce,_e={name:"ContactsView",components:{PbSearch:j,PbDetailContact:dt,PbContacts:ye,ScaleLoader:ke},mounted(){const t={rootMargin:"0px",threshold:1},e=(t,e)=>{t[0].isIntersecting&&!this.loading&&this.loadContacts()},n=new IntersectionObserver(e,t);n.observe(this.$refs.observer)},methods:{...(0,h.RE)("phonebook",["loadContacts"])},setup(){return(0,u.jq)({title:f.v.title("Контакты")}),{...(0,h.U2)("app/*"),...(0,h.U2)("phonebook/",["apiService","loading","loadingShow"])}}};const De=(0,S.Z)(_e,[["render",d],["__scopeId","data-v-50e33ae0"]]);var Se=De}}]);
//# sourceMappingURL=views-Contacts.2b05850d.js.map