(self["webpackChunkphonebook3_client"]=self["webpackChunkphonebook3_client"]||[]).push([[238],{9254:function(t,e,n){"use strict";var a=n(2109),l=n(4230),i=n(3429);a({target:"String",proto:!0,forced:i("link")},{link:function(t){return l(this,"a","href",t)}})},7268:function(t,e,n){"use strict";var a=n(2109),l=n(4230),i=n(3429);a({target:"String",proto:!0,forced:i("small")},{small:function(){return l(this,"small","","")}})},1945:function(t,e,n){"use strict";n(4916),n(7601),n(5306),n(1703);var a=n(3545),l={"text/plain":"Text","text/html":"Url",default:"Text"},i="Copy to clipboard: #{key}, Enter";function o(t){var e=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function c(t,e){var n,c,r,s,u,p,m=!1;e||(e={}),n=e.debug||!1;try{r=a(),s=document.createRange(),u=document.getSelection(),p=document.createElement("span"),p.textContent=t,p.style.all="unset",p.style.position="fixed",p.style.top=0,p.style.clip="rect(0, 0, 0, 0)",p.style.whiteSpace="pre",p.style.webkitUserSelect="text",p.style.MozUserSelect="text",p.style.msUserSelect="text",p.style.userSelect="text",p.addEventListener("copy",(function(a){if(a.stopPropagation(),e.format)if(a.preventDefault(),"undefined"===typeof a.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var i=l[e.format]||l["default"];window.clipboardData.setData(i,t)}else a.clipboardData.clearData(),a.clipboardData.setData(e.format,t);e.onCopy&&(a.preventDefault(),e.onCopy(a.clipboardData))})),document.body.appendChild(p),s.selectNodeContents(p),u.addRange(s);var d=document.execCommand("copy");if(!d)throw new Error("copy command was unsuccessful");m=!0}catch(f){n&&console.error("unable to copy using execCommand: ",f),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),m=!0}catch(f){n&&console.error("unable to copy using clipboardData: ",f),n&&console.error("falling back to prompt"),c=o("message"in e?e.message:i),window.prompt(c,t)}}finally{u&&("function"==typeof u.removeRange?u.removeRange(s):u.removeAllRanges()),p&&document.body.removeChild(p),r()}return m}t.exports=c},3545:function(t,e,n){n(1539),t.exports=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,n=[],a=0;a<t.rangeCount;a++)n.push(t.getRangeAt(a));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){"Caret"===t.type&&t.removeAllRanges(),t.rangeCount||n.forEach((function(e){t.addRange(e)})),e&&e.focus()}}},9148:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return Pe}});var a=n(3396),l=n(7139),i=function(t){return(0,a.dD)("data-v-50e33ae0"),t=t(),(0,a.Cn)(),t},o={key:0},c={ref:"observer",class:"observer"},r={key:1,class:"text-center",style:{"margin-top":"100px"}},s=i((function(){return(0,a._)("h1",{class:"display-4"},"Сервис временно недоступен :-(",-1)})),u=i((function(){return(0,a._)("p",{class:"lead"},"Загляните к нам чуть позднее. Мы его обязательно починим!",-1)})),p=[s,u];function m(t,e,n,i,s,u){var m=(0,a.up)("pb-search"),d=(0,a.up)("pb-detail-contact"),f=(0,a.up)("pb-contacts"),h=(0,a.up)("scale-loader");return t.apiService?((0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(m),(0,a._)("div",{class:(0,l.C_)(["contacts",{loading:t.loading&&!t.loadingShow}])},[(0,a.Wm)(d),(0,a.Wm)(f,{view:t.defaultView},null,8,["view"])],2),(0,a._)("div",c,[(0,a.Wm)(h,{loading:t.loadingShow,color:"#337ab7",height:"20px",width:"4px",margin:"2px",radius:"0px"},null,8,["loading"])],512)])):((0,a.wg)(),(0,a.iD)("div",r,p))}var d=n(5082),f=n(6948),h=n(6728),v=n(669),g=(n(7327),n(1539),n(9242)),y=function(t){return(0,a.dD)("data-v-0953fec5"),t=t(),(0,a.Cn)(),t},b={key:0,class:"btn-ctrl"},x=y((function(){return(0,a._)("i",{class:"fa-solid fa-magnifying-glass"},null,-1)})),w=[x],C={class:"search-ctrl"},k=y((function(){return(0,a._)("div",{class:"fas fa-times",style:{position:"absolute",cursor:"pointer","z-index":"0","font-size":"25px",color:"rgb(170, 170, 170)",top:"11.5px",right:"15px"}},null,-1)})),_=[k];function D(t,e,n,i,o,c){return(0,a.wg)(),(0,a.iD)("div",{class:(0,l.C_)(["search d-flex justify-content-end",{animate:o.animate},{active:o.focusState},{"auto-hide":!o.focusState&&t.searchAutoHide&&t.filter}])},[t.searchAutoHide?((0,a.wg)(),(0,a.iD)("div",b,[(0,a._)("button",{type:"button",class:"btn btn-primary btn-search",onClick:e[0]||(e[0]=function(t){return o.focusState=!0}),title:"Поиск контактов"},w)])):(0,a.kq)("",!0),(0,a._)("div",C,[(0,a._)("div",{style:{position:"relative",margin:"0",padding:"0",border:"none"},onMouseover:e[7]||(e[7]=function(t){return o.hoverDiv=!0}),onMouseleave:e[8]||(e[8]=function(t){return o.hoverDiv=!1})},[c.showClear?((0,a.wg)(),(0,a.iD)("div",{key:0,onClick:e[1]||(e[1]=function(){return c.clear&&c.clear.apply(c,arguments)})},_)):(0,a.kq)("",!0),(0,a.wy)((0,a._)("input",{ref:"search",type:"text",class:"form-control form-control-lg",placeholder:"Быстрый поиск контактов",spellcheck:"false",autocomplete:"off","onUpdate:modelValue":e[2]||(e[2]=function(e){return t.filter=e}),onBlur:e[3]||(e[3]=function(t){return c.setFocus(!1)}),onFocus:e[4]||(e[4]=function(t){return c.setFocus(!0)}),onKeydown:[e[5]||(e[5]=(0,g.D2)((function(t){return o.focusState=!1}),["esc"])),e[6]||(e[6]=(0,g.D2)((function(t){return o.focusState=!1}),["enter"]))]},null,544),[[g.nr,t.filter]])],32)])],2)}n(4916),n(4765);var S={name:"PbSearch",data:function(){return{hoverDiv:!1,focusState:!1,animate:!1}},computed:{showClear:function(){return this.hoverDiv&&this.filter.length>0}},mounted:function(){var t=this;this.searchIntercept&&window.addEventListener("keydown",(function(e){(114===e.keyCode||e.ctrlKey&&70===e.keyCode)&&(e.preventDefault(),t.focusState=!0,t.selectAll())}))},methods:{clear:function(){this.focusState=!0,this.filterChange("")},selectAll:function(){this.$refs.search.setSelectionRange(0,this.filter.length),this.focusState=!0},setFocus:function(t){var e=this;setTimeout((function(){e.focusState=t}),200)}},watch:{focusState:function(t){var e=this;this.animate=!0,t?setTimeout((function(){e.$refs.search.focus(),e.animate=!1}),200):setTimeout((function(){e.$refs.search.blur(),e.animate=!1}),200)}},setup:function(){return(0,d.Z)((0,d.Z)((0,d.Z)({},(0,v.U2)("app/*")),(0,v.Z_)("phonebook",["filter"])),(0,v.RE)("phonebook",["filterChange"]))}},P=n(89);const Z=(0,P.Z)(S,[["render",D],["__scopeId","data-v-0953fec5"]]);var j=Z,I=(n(8309),function(t){return(0,a.dD)("data-v-04f98b36"),t=t(),(0,a.Cn)(),t}),E={key:0,class:"mt-4"},R={class:"p-3 shadow-sm bg-white rounded d-flex flex-fill flex-row align-self-stretch"},H={class:"d-flex flex-column flex-fill"},q={class:"d-flex flex-column flex-sm-row"},T={class:"align-self-top text-center me-0 me-sm-4"},z={class:"p-2 flex-fill text-center text-sm-start"},U=["textContent"],Y=["textContent"],A={class:"mt-3"},K={"aria-label":"breadcrumb"},N={class:"breadcrumb bg-light justify-content-center justify-content-sm-start"},F=["textContent","onClick"],L={class:"mt-4 row text-muted"},W={class:"d-flex flex-column col align-items-stretch m-2"},M=I((function(){return(0,a._)("h6",{class:"m-0 pb-2",style:{"border-bottom":"1px solid #dee2e6"}},[(0,a._)("span",{class:"fa fa-phone"}),(0,a._)("span",{class:"ms-3"},"Телефон для связи:")],-1)})),V={class:"flex-fill py-2"},B={class:"d-flex flex-column col align-items-stretch m-2"},O=I((function(){return(0,a._)("h6",{class:"m-0 pb-2",style:{"border-bottom":"1px solid #dee2e6"}},[(0,a._)("span",{class:"fa fa-at"}),(0,a._)("span",{class:"ms-3"},"Электронная почта:")],-1)})),$={class:"flex-fill py-2"};function X(t,e,n,i,o,c){var r=(0,a.up)("pb-contact-photo"),s=(0,a.up)("pb-contact-value");return t.contact?((0,a.wg)(),(0,a.iD)("div",E,[(0,a._)("div",R,[(0,a._)("div",H,[(0,a._)("div",q,[(0,a._)("div",T,[(0,a.Wm)(r,{src:t.contact.photo},null,8,["src"])]),(0,a._)("div",z,[(0,a._)("h3",{textContent:(0,l.zw)(t.contact.name)},null,8,U),(0,a._)("span",null,[(0,a._)("p",{textContent:(0,l.zw)(t.contact.title)},null,8,Y),(0,a._)("div",A,[(0,a._)("nav",K,[(0,a._)("ol",N,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.contact.department,(function(t,e){return(0,a.wg)(),(0,a.iD)("li",{key:t,class:"breadcrumb-item"},[(0,a._)("a",{class:"click",textContent:(0,l.zw)(t.name),onClick:function(){return c.clickDepartment(e+1)}},null,8,F)])})),128))])])])]),(0,a._)("div",L,[(0,a._)("div",W,[M,(0,a._)("div",V,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.contact.params.phone,(function(t){return(0,a.wg)(),(0,a.j4)(s,{item:t,key:t},null,8,["item"])})),128))])]),(0,a._)("div",B,[O,(0,a._)("div",$,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.contact.params.email,(function(t){return(0,a.wg)(),(0,a.j4)(s,{item:t,key:t},null,8,["item"])})),128))])])])])])])])])):(0,a.kq)("",!0)}n(9714);var G=["src"];function J(t,e,n,i,o,c){return(0,a.wg)(),(0,a.iD)("img",{class:(0,l.C_)(["img-thumbnail","rounded",{click:t.$attrs.onClick}]),name:"photo",src:c.srcPhoto,style:{"min-width":"70px"}},null,10,G)}var Q={name:"PbPhoto",props:{src:String},data:function(){return{baseUrl:h.v.baseApi}},computed:{srcPhoto:function(){return this.baseUrl+this.src}},mounted:function(){}};const tt=(0,P.Z)(Q,[["render",J],["__scopeId","data-v-a8663694"]]);var et=tt,nt=(n(7268),n(9254),["title"]),at={key:0,class:"me-2 text-nowrap"},lt=["href","textContent"],it={key:0,class:"me-2 text-nowrap"},ot=["href","textContent"];function ct(t,e,n,i,o,c){return(0,a.wg)(),(0,a.iD)("div",{class:"value",title:n.hint&&n.item.type||null},[n.small?((0,a.wg)(),(0,a.iD)("small",{key:0,class:(0,l.C_)(["d-flex flex-wrap",{"justify-content-between":!n.center},{"justify-content-center":n.center}])},[n.notitle?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("span",at,(0,l.zw)(n.item.type)+":",1)),(0,a._)("a",{class:(0,l.C_)(["text-nowrap text-end",{"flex-fill":!n.center}]),href:n.item.link,textContent:(0,l.zw)(n.item.value)},null,10,lt)],2)):((0,a.wg)(),(0,a.iD)("span",{key:1,class:(0,l.C_)(["d-flex flex-wrap",{"justify-content-between":!n.center},{"justify-content-center":n.center}])},[n.notitle?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("span",it,(0,l.zw)(n.item.type)+":",1)),(0,a._)("a",{class:(0,l.C_)(["text-nowrap text-end",{"flex-fill":!n.center}]),href:n.item.link,textContent:(0,l.zw)(n.item.value)},null,10,ot)],2))],8,nt)}var rt={name:"PbContactValue",props:{item:Object,small:{type:Boolean,default:!1},notitle:{type:Boolean,default:!1},center:{type:Boolean,default:!1},hint:{type:Boolean,default:!1}}};const st=(0,P.Z)(rt,[["render",ct],["__scopeId","data-v-f36e5804"]]);var ut=st,pt={name:"PbDetailContact",components:{PbContactPhoto:et,PbContactValue:ut},methods:{clickDepartment:function(t){if(this.clickDepartmentName&&(this.clickDepartmentNameLast||t<this.contact.department.length)){var e=document.getSelection().toString();if(e.length>0)return;this.filterChange(this.contact.department[t-1].slug)}}},setup:function(){return(0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)({},(0,v.U2)("app/*")),(0,v.U2)("phonebook/",["contact"])),(0,v.Z_)("phonebook/",["filter"])),(0,v.RE)("phonebook",["filterChange"]))}};const mt=(0,P.Z)(pt,[["render",X],["__scopeId","data-v-04f98b36"]]);var dt=mt,ft={class:"mt-4 row p-2"};function ht(t,e,n,l,i,o){var c=(0,a.up)("pb-contact-card"),r=(0,a.up)("pb-contact-table");return(0,a.wg)(),(0,a.iD)("div",ft,["card"==n.view?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:0},(0,a.Ko)(t.contacts,(function(e,l){return(0,a.wg)(),(0,a.j4)(c,{item:e,key:e.id,"department-title":o.departmentTitle(e.department,t.contacts[l-1]&&t.contacts[l-1].department),view:n.view},null,8,["item","department-title","view"])})),128)):(0,a.kq)("",!0),"table"==n.view?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:1},(0,a.Ko)(t.contacts,(function(e,n){return(0,a.wg)(),(0,a.j4)(r,{item:e,key:e.id,"department-title":o.departmentTitle(e.department,t.contacts[n-1]&&t.contacts[n-1].department)},null,8,["item","department-title"])})),128)):(0,a.kq)("",!0)])}n(7042);var vt=function(t){return(0,a.dD)("data-v-b99620c0"),t=t(),(0,a.Cn)(),t},gt={key:0,class:"col-lg-6 p-0 d-flex card-view"},yt={class:"m-2 p-3 shadow-sm bg-white rounded d-flex flex-fill flex-row align-self-stretch"},bt={class:"d-flex flex-column flex-fill"},xt={key:0,class:"position-relative"},wt=vt((function(){return(0,a._)("i",{class:"fa fa-copy fa-lg"},null,-1)})),Ct=[wt],kt={class:"d-flex flex-column flex-sm-row"},_t={class:"align-self-top text-center pt-2"},Dt={class:"p-2 flex-fill"},St=["textContent"],Pt=["textContent"],Zt=["textContent"],jt={class:"d-flex flex-row justify-content-around justify-content-sm-between text-muted"},It={key:0,class:"me-1"},Et=vt((function(){return(0,a._)("small",{class:"text-nowrap"},[(0,a._)("span",{class:"fa fa-phone"}),(0,a._)("span",{class:"font-weight-bold ms-1"},"Телефон для связи:")],-1)})),Rt={key:1,class:"ms-1"},Ht=vt((function(){return(0,a._)("small",{class:"text-nowrap"},[(0,a._)("span",{class:"fa fa-at"}),(0,a._)("span",{class:"font-weight-bold ms-1"},"Электронная почта:")],-1)}));function qt(t,e,n,i,o,c){var r=(0,a.up)("pb-contact-department"),s=(0,a.up)("pb-contact-photo"),u=(0,a.up)("pb-contact-value");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(r,{department:n.departmentTitle},null,8,["department"]),"card"==n.view?((0,a.wg)(),(0,a.iD)("div",gt,[(0,a._)("div",yt,[(0,a._)("div",bt,[t.clipboardFastCopy?((0,a.wg)(),(0,a.iD)("div",xt,[(0,a._)("a",{class:"copy click",title:"Копировать в буфер обмена",onClick:e[0]||(e[0]=function(){return c.clipboardCopy&&c.clipboardCopy.apply(c,arguments)})},Ct)])):(0,a.kq)("",!0),(0,a._)("div",kt,[(0,a._)("div",_t,[(0,a.Wm)(s,{src:n.item.photo,onClick:(0,g.iM)(c.clickContact,["prevent"])},null,8,["src","onClick"])]),(0,a._)("div",Dt,[(0,a._)("h6",{class:"text-center text-sm-start click",textContent:(0,l.zw)(n.item.name),onClick:e[1]||(e[1]=(0,g.iM)((function(){return c.clickContact&&c.clickContact.apply(c,arguments)}),["prevent"]))},null,8,St),(0,a._)("small",null,[(0,a._)("p",{class:"text-center text-sm-start m-0",textContent:(0,l.zw)(n.item.title)},null,8,Pt),(0,a._)("p",{class:"text-center text-sm-start m-0",textContent:(0,l.zw)(n.item.department.name)},null,8,Zt)])])]),(0,a._)("div",jt,[n.item.params.phone?((0,a.wg)(),(0,a.iD)("div",It,[Et,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.item.params.phone,(function(t){return(0,a.wg)(),(0,a.j4)(u,{item:t,key:t,small:""},null,8,["item"])})),128))])):(0,a.kq)("",!0),n.item.params.email?((0,a.wg)(),(0,a.iD)("div",Rt,[Ht,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.item.params.email,(function(t){return(0,a.wg)(),(0,a.j4)(u,{item:t,key:t,small:""},null,8,["item"])})),128))])):(0,a.kq)("",!0)])])])])):(0,a.kq)("",!0)],64)}n(2222),n(1249),n(9600);var Tt={key:0,class:"col-12 p-0 d-flex"},zt={class:"m-2 px-2 shadow-sm bg-light rounded d-flex flex-fill flex-column align-self-stretch"},Ut=["onClick"],Yt=["textContent"],At=["onClick"],Kt={class:"m-2 p-2 shadow-sm bg-light rounded d-flex flex-fill flex-column align-self-stretch"},Nt={class:"mx-2 d-lg-flex flex-row"},Ft=["textContent"];function Lt(t,e,n,i,o,c){return n.department.length>0?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[t.joinDepartmentName?((0,a.wg)(),(0,a.iD)("div",Tt,[(0,a._)("div",zt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.department,(function(e,i){return(0,a.wg)(),(0,a.iD)("div",{class:"m-2 d-lg-flex flex-row",key:e,onClick:function(){return c.clickDepartment(i+1)}},[(0,a._)("h5",{class:(0,l.C_)(["m-0 align-self-center flex-fill",{click:t.clickDepartmentName&&(t.clickDepartmentNameLast||i<n.department.length-1)}]),textContent:(0,l.zw)(e.name+(i<n.department.length-1?" /":""))},null,10,Yt)],8,Ut)})),128))])])):((0,a.wg)(!0),(0,a.iD)(a.HY,{key:1},(0,a.Ko)(n.department,(function(e,i){return(0,a.wg)(),(0,a.iD)("div",{key:e,class:"col-12 p-0 d-flex",onClick:function(){return c.clickDepartment(i+1)}},[(0,a._)("div",Kt,[(0,a._)("div",Nt,[(0,a._)("h5",{class:(0,l.C_)(["m-0 align-self-center flex-fill",{click:t.clickDepartmentName&&(t.clickDepartmentNameLast||i<n.department.length-1)}]),textContent:(0,l.zw)(e.name)},null,10,Ft)])])],8,At)})),128))],64)):(0,a.kq)("",!0)}var Wt={name:"PbContactDepartment",props:{department:{type:Array,default:[]}},methods:{clickDepartment:function(t){if(this.clickDepartmentName&&(this.clickDepartmentNameLast||t<this.department.length)){var e=document.getSelection().toString();if(e.length>0)return;this.filterChange(this.department[t-1].slug)}}},setup:function(){return(0,d.Z)((0,d.Z)((0,d.Z)({},(0,v.U2)("app/*")),(0,v.Z_)("phonebook/",["filter"])),(0,v.RE)("phonebook",["filterChange"]))}};const Mt=(0,P.Z)(Wt,[["render",Lt],["__scopeId","data-v-1c244298"]]);var Vt=Mt,Bt=n(1945),Ot=n.n(Bt),$t={name:"PbContactCard",props:{item:Object,departmentTitle:{type:Array,default:[]},view:{type:String,default:"card"}},components:{PbContactValue:ut,PbContactDepartment:Vt,PbContactPhoto:et},methods:{clickContact:function(){var t=document.getSelection().toString();t.length>0||this.filterChange(this.item.slug)},clipboardCopy:function(){var t=[];this.clipboardCopyItems_name&&(t=t.concat(this.item.name)),this.clipboardCopyItems_title&&(t=t.concat(this.item.title)),this.clipboardCopyItems_company&&(t=t.concat(this.item.department[0].name)),this.clipboardCopyItems_department&&(t=t.concat(this.item.department.slice(1).map((function(t){return t.name})))),Ot()(t.join("\t"),{format:"text/plain"})}},setup:function(){return(0,d.Z)((0,d.Z)((0,d.Z)({},(0,v.U2)("app/*")),(0,v.Z_)("phonebook/",["filter"])),(0,v.RE)("phonebook",["filterChange"]))}};const Xt=(0,P.Z)($t,[["render",qt],["__scopeId","data-v-b99620c0"]]);var Gt=Xt,Jt=function(t){return(0,a.dD)("data-v-b83fa16c"),t=t(),(0,a.Cn)(),t},Qt=(0,a.uE)('<div class="row py-2 mx-0 px-0" data-v-b83fa16c><div class="col text-center" data-v-b83fa16c><h6 data-v-b83fa16c><small data-v-b83fa16c>Должность / Ф.И.О.</small></h6></div><div class="col text-center" data-v-b83fa16c><h6 data-v-b83fa16c><small data-v-b83fa16c>Телефон внутренний</small></h6></div><div class="col text-center" data-v-b83fa16c><h6 data-v-b83fa16c><small data-v-b83fa16c>Телефон городской</small></h6></div><div class="col text-center" data-v-b83fa16c><h6 data-v-b83fa16c><small data-v-b83fa16c>HiCom</small></h6></div><div class="col text-center" data-v-b83fa16c><h6 data-v-b83fa16c><small data-v-b83fa16c>Электронная почта</small></h6></div></div>',1),te={class:"col"},ee={class:"text-center text-sm-start"},ne=["textContent"],ae=Jt((function(){return(0,a._)("br",null,null,-1)})),le=["textContent"],ie={class:"col"},oe={class:"justify-content-center"},ce={class:"col"},re={class:"justify-content-center"},se={class:"col"},ue={class:"justify-content-center"},pe={class:"col"},me={class:"justify-content-center"};function de(t,e,n,i,o,c){var r=(0,a.up)("pb-contact-department"),s=(0,a.up)("pb-contact-value");return(0,a.wg)(),(0,a.iD)(a.HY,null,[n.departmentTitle.length>0?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a.Wm)(r,{department:n.departmentTitle},null,8,["department"]),Qt],64)):(0,a.kq)("",!0),(0,a._)("div",{class:"row py-2 mx-0 px-0 click align-items-center",onClick:e[0]||(e[0]=function(){return c.clickContact&&c.clickContact.apply(c,arguments)})},[(0,a._)("small",te,[(0,a._)("div",ee,[(0,a._)("span",{textContent:(0,l.zw)(n.item.title)},null,8,ne),ae,(0,a._)("span",{textContent:(0,l.zw)(n.item.name)},null,8,le)])]),(0,a._)("div",ie,[(0,a._)("div",oe,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(c.extPhone(n.item.params.phone),(function(t){return(0,a.wg)(),(0,a.j4)(s,{key:t,item:t,notitle:1==c.uniqItem(c.extPhone(n.item.params.phone).map((function(t){return t.type}))).length,small:"",center:"",hint:""},null,8,["item","notitle"])})),128))])]),(0,a._)("div",ce,[(0,a._)("div",re,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(c.intPhone(n.item.params.phone),(function(t){return(0,a.wg)(),(0,a.j4)(s,{key:t,item:t,notitle:1==c.uniqItem(c.intPhone(n.item.params.phone).map((function(t){return t.type}))).length,small:"",center:"",hint:""},null,8,["item","notitle"])})),128))])]),(0,a._)("div",se,[(0,a._)("div",ue,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(c.hicomPhone(n.item.params.phone),(function(t){return(0,a.wg)(),(0,a.j4)(s,{key:t,item:t,notitle:1==c.uniqItem(c.hicomPhone(n.item.params.phone).map((function(t){return t.type}))).length,small:"",center:"",hint:""},null,8,["item","notitle"])})),128))])]),(0,a._)("div",pe,[(0,a._)("div",me,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.item.params.email,(function(t){return(0,a.wg)(),(0,a.j4)(s,{key:t,item:t,notitle:1==c.uniqItem(n.item.params.email.map((function(t){return t.type}))).length,small:"",center:"",hint:""},null,8,["item","notitle"])})),128))])])])],64)}n(7601),n(4603),n(8450),n(8386);var fe={name:"PbContactTable",props:{item:Object,departmentTitle:{type:Array,default:[]}},components:{PbContactValue:ut,PbContactDepartment:Vt,PbContactPhoto:et},methods:{clickContact:function(){var t=document.getSelection().toString();t.length>0||this.filterChange(this.item.slug)},extPhone:function(t){return t.filter((function(t){return RegExp("^рабочий|^конференция","i").test(t.type)}))},intPhone:function(t){return t.filter((function(t){return RegExp("^городской","i").test(t.type)}))},hicomPhone:function(t){return t.filter((function(t){return RegExp("^hicom","i").test(t.type)}))},uniqItem:function(t){return t.filter((function(t,e,n){return n.indexOf(t)===e}))}},setup:function(){return(0,d.Z)((0,d.Z)((0,d.Z)({},(0,v.U2)("app/*")),(0,v.Z_)("phonebook/",["filter"])),(0,v.RE)("phonebook",["filterChange"]))}};const he=(0,P.Z)(fe,[["render",de],["__scopeId","data-v-b83fa16c"]]);var ve=he,ge={name:"PbContacts",props:{view:{type:String,default:"card"}},components:{PbContactCard:Gt,PbContactTable:ve},methods:{departmentTitle:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=0;n<t.length;n++)if(!e[n]||e[n].slug!=t[n].slug)return t.slice(n);return[]}},setup:function(){return(0,d.Z)({},(0,v.U2)("phonebook/",["contacts"]))}};const ye=(0,P.Z)(ge,[["render",ht]]);var be=ye,xe={class:"v-spinner"};function we(t,e,n,i,o,c){return(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",xe,[(0,a._)("div",{class:"v-scale v-scale1",style:(0,l.j5)([o.spinnerStyle,o.spinnerDelay1])},null,4),(0,a._)("div",{class:"v-scale v-scale2",style:(0,l.j5)([o.spinnerStyle,o.spinnerDelay2])},null,4),(0,a._)("div",{class:"v-scale v-scale3",style:(0,l.j5)([o.spinnerStyle,o.spinnerDelay3])},null,4),(0,a._)("div",{class:"v-scale v-scale4",style:(0,l.j5)([o.spinnerStyle,o.spinnerDelay4])},null,4),(0,a._)("div",{class:"v-scale v-scale5",style:(0,l.j5)([o.spinnerStyle,o.spinnerDelay5])},null,4)],512)),[[g.F8,n.loading]])}var Ce={name:"ScaleLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},height:{type:String,default:"35px"},width:{type:String,default:"4px"},margin:{type:String,default:"2px"},radius:{type:String,default:"2px"}},data:function(){return{spinnerStyle:{backgroundColor:this.color,height:this.height,width:this.width,margin:this.margin,borderRadius:this.radius,display:"inline-block",animationName:"v-scaleStretchDelay",animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(.2,.68,.18,1.08)",animationFillMode:"both"},spinnerDelay1:{animationDelay:"0.1s"},spinnerDelay2:{animationDelay:"0.2s"},spinnerDelay3:{animationDelay:"0.3s"},spinnerDelay4:{animationDelay:"0.4s"},spinnerDelay5:{animationDelay:"0.5s"}}}};const ke=(0,P.Z)(Ce,[["render",we]]);var _e=ke,De={name:"ContactsView",components:{PbSearch:j,PbDetailContact:dt,PbContacts:be,ScaleLoader:_e},mounted:function(){var t=this,e={rootMargin:"0px",threshold:1},n=function(e,n){e[0].isIntersecting&&!t.loading&&t.loadContacts()},a=new IntersectionObserver(n,e);a.observe(this.$refs.observer)},methods:(0,d.Z)({},(0,v.RE)("phonebook",["loadContacts"])),setup:function(){return(0,f.jq)({title:h.v.title("Контакты")}),(0,d.Z)((0,d.Z)({},(0,v.U2)("app/*")),(0,v.U2)("phonebook/",["apiService","loading","loadingShow"]))}};const Se=(0,P.Z)(De,[["render",m],["__scopeId","data-v-50e33ae0"]]);var Pe=Se}}]);
//# sourceMappingURL=views-Contacts-legacy.f472594f.js.map